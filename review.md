# Overview

Самое крутое — что все работает, :muscle:.
 Также круто, что написал тесты.
Поэтому все мои замечания не так важны, как может показаться :)

Улучшать текущую версию можно по нескольким направлениям:
* Производительность (кажется, самое критичное)
* Удобство обслуживания в проде (сбор логов / метрик, не знаю что с этим, куски логов видел, метрик не видел)
* Качество кода

## Заметки

* почему не использовал какую-нибудь БД?
* структурировано все неплохо
* добавить typescript / другую типизацию для проверки входных данных
* на примере doProcessAnswer — смешана валидация / проверка данных и логика в одной fn
* мешанина с состоянием на примере всего процессинга — лучше отдельно собирать локальную копию state.users[chatId], 
и потом один раз заменять состояние в state на эту копию
* почему мне приходило несколько одинаковых вопросов — если я правильно понял код, нигде не проверяется, что пользователю уже ответили — поэтому если я быстро 10 раз нажму на ответ на вопрос #1, на бекенд придет 10 запросов и бекенд пришлет мне на каждый из них ответ со следующим вопросом => я получу 10 следующих вопросов. по идее это легко чинится, достаточно проверить перед отправкой, что у пользователя в рамках текущего update до update ответа на вопрос не было, а в процессе обработки он появился. И если это не так — можно ничего не отправлять и вообще игнорить ответ (или перезаписывать, не знаю, как с точки зрения логики правильней).

По качеству кода такие направления для улучшения:
* naming
* отделение валидации от логики
* отделение работы с состоянием от логики